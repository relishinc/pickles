<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Lightbox</title>

	<link rel="stylesheet" href="../../demo/css/main.css">
	<link rel="stylesheet" href="../../dist/css/ui/lightbox.css">

	<style type="text/css">
	 [data-thumbnail] { cursor: -webkit-zoom-in; } 
	</style>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

</head>
<body>

<a href="../index.html">⬅️Back</a>

<h2>Lightbox</h2>

<section class="example-section" title="Demo">
    <!-- Don't forget to load the styles: "../../dist/css/ui/lightbox.css" or "scss/ui/lightbox.scss" -->
    
    <p>Show a big <a href="https://picsum.photos/900/600" title="This is the caption" data-thumbnail>picture</a></p>
    
    <!-- Load the JS library -->
    <script src="../../dist/js/Pickles.js"></script>
    
    <script>
    
        var myLightbox;
    
        jQuery(document)
            .ready(function($) {
                
                // Have all [data-thumbnail] links open lightboxes
                myLightbox = new Pickles.Lightbox();
    
            });
    
    </script></section>

<section class="example-section" title="Code">
<pre class="prettyprint lang-html"><code>&lt;!-- Don&#039;t forget to load the styles: &quot;../../dist/css/ui/lightbox.css&quot; or &quot;scss/ui/lightbox.scss&quot; --&gt;

&lt;p&gt;Show a big &lt;a href=&quot;https://picsum.photos/900/600&quot; title=&quot;This is the caption&quot; data-thumbnail&gt;picture&lt;/a&gt;&lt;/p&gt;

&lt;!-- Load the JS library --&gt;
&lt;script src=&quot;../../dist/js/Pickles.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
    var myLightbox;

    jQuery(document)
        .ready(function($) {

            // Have all [data-thumbnail] links open lightboxes
            myLightbox = new Pickles.Lightbox();

        });
&lt;/script&gt;</code></pre></section>

<section class="example-section" title="Config">
        <h4>SASS vars</h4>
<pre><code class="prettyprint lang-css">$overlay-bg-color: rgba(#1F1E20, 0.9) !default;
$caption-text-color: #fff !default;
$spinner-color: #fff !default;
</code></pre>        <h4>Options</h4>
        <pre>
            <code class="prettyprint lang-json" data-options="myLightbox.options"></code>
        </pre>
</section>

<section class="example-section" title="API">
    <pre>
        <code class="prettyprint" data-api="myLightbox"></code>
    </pre>
</section>

<section class="example-section" title="Source">
<pre class="prettyprint lang-js"><code>/* Lightbox plugin
----------------------------- */

export default class Lightbox {

    constructor($options = {}) {
        // settings

        let defaults = {
            selector: &#039;[data-thumbnail]&#039;
        };
        this.options = Object.assign({}, defaults, $options);

        // vars

        this.namespace = &#039;lightbox&#039;;
        this.lightboxElement = null;

        // go

        this.init();
    }

    init() {
        $(this.options.selector)
            .off(`click.${this.namespace}`)
            .on(`click.${this.namespace}`, (e) =&gt; {
                e.preventDefault();

                this.createLightbox(e);

                setTimeout(() =&gt; {
                    this.show();
                }, 50);

            });
    }

    createLightbox(e) {
        let
            img = $(&#039;&lt;img /&gt;&#039;),
            src = e.currentTarget.href,
            imgEl = $(&#039;&lt;div class=&quot;lightbox__image&quot; /&gt;&#039;),
            captionEl = $(&#039;&lt;div class=&quot;lightbox__caption&quot; /&gt;&#039;);

        this.lightboxElement = $(&#039;&lt;div class=&quot;lightbox&quot; /&gt;&#039;);

        // listen for load event

        img
            .attr(&#039;src&#039;, src)
            .on(&#039;load&#039;, (e) =&gt; {
                this.lightboxElement
                    .addClass(&#039;lightbox--loaded&#039;);
            });

        // set background image    

        imgEl
            .css(&#039;backgroundImage&#039;, `url(${src})`);

        // append to body    

        this.lightboxElement
            .prependTo($(&#039;body&#039;))
            .append(imgEl);

        // add caption

        if ($(e.currentTarget).attr(&#039;alt&#039;) || $(e.currentTarget).attr(&#039;title&#039;)) {
            captionEl
                .text($(e.currentTarget).attr(&#039;alt&#039;) || $(e.currentTarget).attr(&#039;title&#039;))
                .appendTo(this.lightboxElement);
        }

        // click handler

        this.lightboxElement
            .on(`click.${this.namespace}`, (e) =&gt; {
                this.hide();
            });

    }

    show() {
        this.lightboxElement
            .addClass(&#039;lightbox--open&#039;);
    };

    hide() {
        this.lightboxElement
            .removeClass(&#039;lightbox--open&#039;)
            .on(`transitionend.${this.namespace}`, (e) =&gt; {
                this.destroy();
            });
    };

    destroy() {
        this.lightboxElement.remove();
    }

}</code></pre></section>




<script src="../../demo/js/main.js"></script>

</body>
</html>
